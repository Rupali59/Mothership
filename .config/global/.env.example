# ============================================
# MOTHERBOARD ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to create your environment-specific .env files:
# - .env.local (for local development)
# - .env.staging (for staging environment) 
# - .env.production (for production deployment)
#
# NEVER commit actual .env files with secrets to Git!
# ============================================

# --------------------------------------------
# Core Configuration
# --------------------------------------------
# Deployment environment (development, staging, production)
APP_ENV=development

# Service port
PORT=8080

# Logging level (debug, info, warn, error)
# Production should use "info" or higher
LOG_LEVEL=debug

# --------------------------------------------
# Database Configuration
# --------------------------------------------
# MongoDB connection URI
# Format: mongodb://[username:password@]host[:port]/database[?options]
MONGO_URI=mongodb://mongodb:27017/motherboard

# Redis connection URL
# Format: redis://[username:password@]host[:port][/database]
REDIS_URL=redis://redis:6379

# PostgreSQL connection string (optional, if using SQL)
# Format: postgres://user:password@host:port/database?sslmode=disable
POSTGRES_CONN=postgres://postgres:postgres@postgres:5432/motherboard?sslmode=disable

# --------------------------------------------
# Security (REQUIRED)
# --------------------------------------------
# JWT secret for token signing (minimum 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=

# Encryption key for sensitive data (minimum 32 characters)
# Generate with: openssl rand -base64 32
# REQUIRED in production
ENCRYPTION_KEY=

# CORS allowed origins (comma-separated)
# Example: https://app.example.com,https://admin.example.com
# REQUIRED in production
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Trusted proxy IPs (comma-separated, optional)
TRUSTED_PROXIES=

# --------------------------------------------
# Microservice URLs
# --------------------------------------------
# Internal service communication endpoints
AUTH_SERVICE_URL=http://auth:8088
BILLING_SERVICE_URL=http://billing:8090
SCHEDULER_SERVICE_URL=http://scheduler:8089
HEALTH_SERVICE_URL=http://health:8091
ENTITLEMENT_SERVICE_URL=http://entitlement:8085
NOTIFICATION_SERVICE_URL=http://notification:8094
STORAGE_SERVICE_URL=http://storage:8095
TASK_TRACKER_SERVICE_URL=http://task-tracker:8096

# --------------------------------------------
# Feature Flags
# --------------------------------------------
# Enable WebAuthn passwordless authentication
ENABLE_WEBAUTHN=true

# Enable OAuth social login
ENABLE_OAUTH=true

# Enable billing features
ENABLE_BILLING=false

# --------------------------------------------
# Performance Tuning
# --------------------------------------------
# Maximum database connection pool size
MAX_DB_CONNECTIONS=100

# Request timeout (e.g., 30s, 5m)
REQUEST_TIMEOUT=30s

# Enable caching
CACHE_ENABLED=true

# Cache time-to-live (e.g., 5m, 1h)
CACHE_TTL=5m

# --------------------------------------------
# External Services (Optional)
# --------------------------------------------
# Chaukidar file monitoring
CHAUKIDAR_ENABLED=true

# Sentry error tracking
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# Analytics
ANALYTICS_ENABLED=false

# --------------------------------------------
# Production Security Checklist
# --------------------------------------------
# Before deploying to production, ensure:
# ✓ JWT_SECRET is set to a strong random value
# ✓ ENCRYPTION_KEY is set to a strong random value  
# ✓ CORS_ALLOWED_ORIGINS contains only your production domains
# ✓ LOG_LEVEL is set to "info" or higher (not "debug")
# ✓ MONGO_URI does NOT contain "localhost"
# ✓ SSL/TLS is enabled for all database connections
# ✓ All secrets are managed via environment injection, not committed to Git
